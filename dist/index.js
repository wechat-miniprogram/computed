var k=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var z=k(D=>{"use strict";Object.defineProperty(D,"__esModule",{value:!0}),D.getDataOnPath=D.parseMultiDataPaths=void 0;var N=/^\s/,C=function(t,e){throw new Error('Parsing data path "'+t+'" failed at char "'+t[e]+'" (index '+e+")")},nt=function(t,e){for(var r=e.index;e.index<e.length;){var u=t[e.index];if(/^[0-9]/.test(u)){e.index++;continue}break}return r===e.index&&C(t,e.index),parseInt(t.slice(r,e.index),10)},$=function(t,e){var r=e.index,u=t[r];if(/^[_a-zA-Z$]/.test(u))for(e.index++;e.index<e.length;){var s=t[e.index];if(/^[_a-zA-Z0-9$]/.test(s)){e.index++;continue}break}else C(t,e.index);return t.slice(r,e.index)},U=function(t,e){for(var r=[$(t,e)],u={deepCmp:!1};e.index<e.length;){var s=t[e.index];if(s==="[")e.index++,r.push(""+nt(t,e)),t[e.index]!=="]"&&C(t,e.index),e.index++;else if(s==="."){if(e.index++,t[e.index]==="*"){if(e.index++,t[e.index]==="*"){e.index++,u.deepCmp=!0;break}C(t,e.index)}r.push($(t,e))}else break}return{path:r,options:u}},ot=function(t,e){for(;N.test(t[e.index]);)e.index++;for(var r=[U(t,e)],u=!1;e.index<e.length;){var s=t[e.index];N.test(s)?e.index++:s===","?(u=!0,e.index++):u?(u=!1,r.push(U(t,e))):C(t,e.index)}return r},it=function(t,e){e.index<e.length&&C(t,e.index)};D.parseMultiDataPaths=function(t){var e={length:t.length,index:0},r=ot(t,e);return it(t,e),r},D.getDataOnPath=function(t,e){var r=t;return e.forEach(function(u){r=typeof r!="object"||r===null?void 0:r[u]}),r}});var S=k((dt,Z)=>{Z.exports=function(){let e=null,r;function u(o){return o?typeof o=="object"||typeof o=="function":!1}function s(o){if(o!==null&&!u(o))throw new TypeError("Object prototype may only be an Object or null: "+o)}let f=Object,c=Boolean(f.create)||!({__proto__:null}instanceof f),h=f.create||(c?function(n){return s(n),{__proto__:n}}:function(n){if(s(n),n===null)throw new SyntaxError("Native Object.create is required to create objects with null prototype");var y=function(){};return y.prototype=n,new y}),w=function(){return null},p=f.getPrototypeOf||([].__proto__===Array.prototype?function(n){let y=n.__proto__;return u(y)?y:null}:w);return r=function(o,n){if((this&&this instanceof r?this.constructor:void 0)===void 0)throw new TypeError("Constructor Proxy requires 'new'");if(!u(o)||!u(n))throw new TypeError("Cannot create proxy with a non-object as target or handler");let l=function(){};e=function(){o=null,l=function(i){throw new TypeError(`Cannot perform '${i}' on a proxy that has been revoked`)}},setTimeout(function(){e=null},0);let v=n;n={get:null,set:null,apply:null,construct:null};for(let i in v){if(!(i in n))throw new TypeError(`Proxy polyfill does not support trap '${i}'`);n[i]=v[i]}typeof v=="function"&&(n.apply=v.apply.bind(v));let m=p(o),a,d=!1,x=!1;typeof o=="function"?(a=function(){let b=this&&this.constructor===a,_=Array.prototype.slice.call(arguments);if(l(b?"construct":"apply"),b&&n.construct)return n.construct.call(this,o,_);if(!b&&n.apply)return n.apply(o,this,_);if(b){_.unshift(o);let A=o.bind.apply(o,_);return new A}return o.apply(this,_)},d=!0):o instanceof Array?(a=[],x=!0):a=c||m!==null?h(m):{};let P=n.get?function(i){return l("get"),n.get(this,i,a)}:function(i){return l("get"),this[i]},g=n.set?function(i,b){l("set");let _=n.set(this,i,b,a)}:function(i,b){l("set"),this[i]=b},M=f.getOwnPropertyNames(o),E={};M.forEach(function(i){if((d||x)&&i in a)return;let b=f.getOwnPropertyDescriptor(o,i),_={enumerable:Boolean(b.enumerable),get:P.bind(o,i),set:g.bind(o,i)};f.defineProperty(a,i,_),E[i]=!0});let j=!0;if(d||x){let i=f.setPrototypeOf||([].__proto__===Array.prototype?function(_,A){return s(A),_.__proto__=A,_}:w);m&&i(a,m)||(j=!1)}if(n.get||!j)for(let i in o)E[i]||f.defineProperty(a,i,{get:P.bind(o,i)});return f.seal(o),f.seal(a),a},r.revocable=function(o,n){return{proxy:new r(o,n),revoke:e}},r}});var J=k(W=>{"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.create=function(t,e){return G(t,e,[])},W.unwrap=F;var ut=function(t){return t&&t.__esModule?t:{default:t}}(S()).default(),G=function(t,e,r){if(typeof t!="object"||t===null)return t;var u={get:function(s,f){if(f==="__rawObject__")return s;var c=r.concat(f),h=s[f];return e.push({path:c,value:h}),G(h,e,c)}};try{return new Proxy(t,u)}catch(s){return new ut(t,u)}};function F(t){if(t!==null&&typeof t=="object"&&typeof t.__rawObject__!="object"){if(Array.isArray(t))return t.map(function(r){return F(r)});var e={};return Object.keys(t).forEach(function(r){e[r]=F(t[r])}),e}return typeof t!="object"||t===null||typeof t.__rawObject__!="object"?t:t.__rawObject__}});var X=k(q=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0}),q.behavior=void 0;var T,at=K(require("rfdc")),ct=K(require("fast-deep-equal")),O=L(z()),I=L(J());function K(t){return t&&t.__esModule?t:{default:t}}function L(t){if(t&&t.__esModule)return t;var e={};if(t!=null){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var u=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};u.get||u.set?Object.defineProperty(e,r,u):e[r]=t[r]}}return e.default=t,e}var Q=at.default({proto:!0});(function(t){t[t.CREATED=0]="CREATED",t[t.ATTACHED=1]="ATTACHED"})(T||(T={}));var st=0,ft=Behavior({lifetimes:{attached:function(){this.setData({_computedWatchInit:T.ATTACHED})},created:function(){this.setData({_computedWatchInit:T.CREATED})}},definitionFilter:function(t){var e,r=t.computed,u=t.watch,s=[],f=st++;s.push({fields:"_computedWatchInit",observer:function(){var c=this.data._computedWatchInit;if(c===T.CREATED){var h={computedUpdaters:[],computedRelatedPathValues:{},watchCurVal:{},_triggerFromComputedAttached:{}};if(this._computedWatchInfo||(this._computedWatchInfo={}),this._computedWatchInfo[f]=h,u){var w=this;Object.keys(u).forEach(function(n){var y=w,l=O.parseMultiDataPaths(n).map(function(v){var m=v.path,a=v.options,d=O.getDataOnPath(y.data,m);return a.deepCmp?Q(d):d});h.watchCurVal[n]=l})}}else if(c===T.ATTACHED){var p=this._computedWatchInfo[f];if(r){var o=this;Object.keys(r).forEach(function(n){var y,l=o,v=r[n],m=[],a=v(I.create(o.data,m)),d=m.map(function(P){var g=P.path;return{path:g,value:O.getDataOnPath(l.data,g)}});o.setData(((y={})[n]=I.unwrap(a),y)),p._triggerFromComputedAttached[n]=!0,p.computedRelatedPathValues[n]=d;var x=function(){for(var P,g=l,M=p.computedRelatedPathValues[n],E=!1,j=0;j<M.length;j++){var i=M[j],b=i.path,_=i.value,A=O.getDataOnPath(l.data,b);if(_!==A){E=!0;break}}if(!E)return!1;var B=[],tt=v(I.create(l.data,B));l.setData(((P={})[n]=I.unwrap(tt),P));var et=B.map(function(rt){var H=rt.path;return{path:H,value:O.getDataOnPath(g.data,H)}});return p.computedRelatedPathValues[n]=et,!0};p.computedUpdaters.push(x)})}}}}),r&&s.push({fields:"**",observer:function(){if(this._computedWatchInfo){var c,h=this._computedWatchInfo[f];if(h)do{var w=this;c=h.computedUpdaters.some(function(p){return p.call(w)})}while(c)}}}),u&&Object.keys(u).forEach(function(c){var h=O.parseMultiDataPaths(c);s.push({fields:c,observer:function(){var w=this;if(this._computedWatchInfo){var p=this._computedWatchInfo[f];if(p){if(Object.keys(p._triggerFromComputedAttached).length){var o={};for(var n in h.forEach(function(d){return o[d.path[0]]=!0}),p._triggerFromComputedAttached)if(p._triggerFromComputedAttached.hasOwnProperty(n)&&o[n]&&p._triggerFromComputedAttached[n]){p._triggerFromComputedAttached[n]=!1;return}}var y=p.watchCurVal[c],l=h.map(function(d){var x=d.path,P=d.options,g=O.getDataOnPath(w.data,x);return{val:g,options:P}}),v=l.map(function(d){var x=d.val;return d.options.deepCmp?Q(x):x});p.watchCurVal[c]=v;for(var m=!1,a=0;a<v.length;a++)if(h[a].options.deepCmp?!ct.default(y[a],v[a]):y[a]!==v[a]){m=!0;break}m&&u[c].apply(this,l.map(function(d){return d.val}))}}}})}),typeof t.observers!="object"&&(t.observers={}),Array.isArray(t.observers)?(e=t.observers).push.apply(e,s):s.forEach(function(c){var h=t.observers[c.fields];h?t.observers[c.fields]=function(){c.observer.call(this),h.call(this)}:t.observers[c.fields]=c.observer})}});q.behavior=ft});"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"behavior",{enumerable:!0,get:function(){return V.behavior}}),exports.ComponentWithComputed=function(t){return Array.isArray(t.behaviors)||(t.behaviors=[]),t.behaviors.unshift(V.behavior),Component(t)},exports.BehaviorWithComputed=function(t){return Array.isArray(t.behaviors)||(t.behaviors=[]),t.behaviors.unshift(V.behavior),Behavior(t)},exports.setCurrentDataTracerMode=exports.getCurrentDataTracerMode=exports.DataTracerMode=void 0;var R,V=X();exports.DataTracerMode=R,function(t){t[t.Auto=0]="Auto",t[t.Proxy=1]="Proxy",t[t.DefineProperty=2]="DefineProperty"}(R||(exports.DataTracerMode=R={}));var Y=R.Auto;exports.getCurrentDataTracerMode=function(){return Y},exports.setCurrentDataTracerMode=function(t){Y=t};
