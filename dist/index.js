var E=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var H=E(M=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(M,{parseMultiDataPaths:function(){return ie},getDataOnPath:function(){return ue}});var N=/^\s/,C=function(e,t){throw Error('Parsing data path "'+e+'" failed at char "'+e[t]+'" (index '+t+")")},re=function(e,t){for(var r=t.index;t.index<t.length;){var i=e[t.index];if(/^[0-9]/.test(i)){t.index++;continue}break}return r===t.index&&C(e,t.index),parseInt(e.slice(r,t.index),10)},$=function(e,t){var r=t.index,i=e[r];if(/^[_a-zA-Z$]/.test(i))for(t.index++;t.index<t.length;){var s=e[t.index];if(/^[_a-zA-Z0-9$]/.test(s)){t.index++;continue}break}else C(e,t.index);return e.slice(r,t.index)},q=function(e,t){for(var r=[$(e,t)],i={deepCmp:!1};t.index<t.length;){var s=e[t.index];if(s==="[")t.index++,r.push(""+re(e,t)),e[t.index]!=="]"&&C(e,t.index),t.index++;else if(s==="."){if(t.index++,e[t.index]==="*"){if(t.index++,e[t.index]==="*"){t.index++,i.deepCmp=!0;break}C(e,t.index)}r.push($(e,t))}else break}return{path:r,options:i}},ne=function(e,t){for(;N.test(e[t.index]);)t.index++;for(var r=[q(e,t)],i=!1;t.index<t.length;){var s=e[t.index];N.test(s)?t.index++:s===","?(i=!0,t.index++):i?(i=!1,r.push(q(e,t))):C(e,t.index)}return r},oe=function(e,t){t.index<t.length&&C(e,t.index)},ie=function(e){var t={length:e.length,index:0},r=ne(e,t);return oe(e,t),r},ue=function(e,t){var r=e;return t.forEach(function(i){r=typeof r!="object"||r===null?void 0:r[i]}),r}});var z=E((me,U)=>{U.exports=function(){let t=null,r;function i(n){return n?typeof n=="object"||typeof n=="function":!1}function s(n){if(n!==null&&!i(n))throw new TypeError("Object prototype may only be an Object or null: "+n)}let c=Object,u=Boolean(c.create)||!({__proto__:null}instanceof c),d=c.create||(u?function(o){return s(o),{__proto__:o}}:function(o){if(s(o),o===null)throw new SyntaxError("Native Object.create is required to create objects with null prototype");var h=function(){};return h.prototype=o,new h}),m=function(){return null},p=c.getPrototypeOf||([].__proto__===Array.prototype?function(o){let h=o.__proto__;return i(h)?h:null}:m);return r=function(n,o){if((this&&this instanceof r?this.constructor:void 0)===void 0)throw new TypeError("Constructor Proxy requires 'new'");if(!i(n)||!i(o))throw new TypeError("Cannot create proxy with a non-object as target or handler");let v=function(){};t=function(){n=null,v=function(a){throw new TypeError(`Cannot perform '${a}' on a proxy that has been revoked`)}},setTimeout(function(){t=null},0);let y=o;o={get:null,set:null,apply:null,construct:null};for(let a in y){if(!(a in o))throw new TypeError(`Proxy polyfill does not support trap '${a}'`);o[a]=y[a]}typeof y=="function"&&(o.apply=y.apply.bind(y));let P=p(n),f,l=!1,b=!1;typeof n=="function"?(f=function(){let _=this&&this.constructor===f,x=Array.prototype.slice.call(arguments);if(v(_?"construct":"apply"),_&&o.construct)return o.construct.call(this,n,x);if(!_&&o.apply)return o.apply(n,this,x);if(_){x.unshift(n);let j=n.bind.apply(n,x);return new j}return n.apply(this,x)},l=!0):n instanceof Array?(f=[],b=!0):f=u||P!==null?d(P):{};let g=o.get?function(a){return v("get"),o.get(this,a,f)}:function(a){return v("get"),this[a]},w=o.set?function(a,_){v("set");let x=o.set(this,a,_,f)}:function(a,_){v("set"),this[a]=_},A=c.getOwnPropertyNames(n),D={};A.forEach(function(a){if((l||b)&&a in f)return;let _=c.getOwnPropertyDescriptor(n,a),x={enumerable:Boolean(_.enumerable),get:g.bind(n,a),set:w.bind(n,a)};c.defineProperty(f,a,x),D[a]=!0});let k=!0;if(l||b){let a=c.setPrototypeOf||([].__proto__===Array.prototype?function(x,j){return s(j),x.__proto__=j,x}:m);P&&a(f,P)||(k=!1)}if(o.get||!k)for(let a in n)D[a]||c.defineProperty(f,a,{get:g.bind(n,a)});return c.seal(n),c.seal(f),f},r.revocable=function(n,o){return{proxy:new r(n,o),revoke:t}},r}});var S=E(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(I,{create:function(){return ce},unwrap:function(){return W}});var ae=(0,function(e){return e&&e.__esModule?e:{default:e}}(z()).default)(),Z=function(e,t,r){if(typeof e!="object"||e===null)return e;var i={get:function(s,c){if(c==="__rawObject__")return s;var u=null,d=r.concat(c),m=s[c];return t.push({path:d,value:m}),Z(m,t,d)}};try{return new Proxy(e,i)}catch(s){return new ae(e,i)}};function ce(e,t){return Z(e,t,[])}function W(e){if(e!==null&&typeof e=="object"&&typeof e.__rawObject__!="object"){if(Array.isArray(e))return e.map(function(r){return W(r)});var t={};return Object.keys(e).forEach(function(r){t[r]=W(e[r])}),t}return typeof e!="object"||e===null||typeof e.__rawObject__!="object"?e:e.__rawObject__}});var Y=E(B=>{"use strict";Object.defineProperty(B,"__esModule",{value:!0}),Object.defineProperty(B,"behavior",{enumerable:!0,get:function(){return le}});var G,se=J(require("rfdc")),fe=J(require("fast-deep-equal")),O=L(H()),T=L(S());function J(e){return e&&e.__esModule?e:{default:e}}function K(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(K=function(i){return i?r:t})(e)}function L(e,t){if(!t&&e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=K(t);if(r&&r.has(e))return r.get(e);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if(c!=="default"&&Object.prototype.hasOwnProperty.call(e,c)){var u=s?Object.getOwnPropertyDescriptor(e,c):null;u&&(u.get||u.set)?Object.defineProperty(i,c,u):i[c]=e[c]}return i.default=e,r&&r.set(e,i),i}var Q=(0,se.default)({proto:!0});(function(e){e[e.CREATED=0]="CREATED",e[e.ATTACHED=1]="ATTACHED"})(G||(G={}));var pe=0;function X(e,t){return e===t||e!=e&&t!=t}var le=Behavior({lifetimes:{attached:function(){this.setData({_computedWatchInit:1})},created:function(){this.setData({_computedWatchInit:0})}},definitionFilter:function(e){var t,r=e.computed,i=e.watch,s=[],c=pe++;s.push({fields:"_computedWatchInit",observer:function(){var u=this,d=this.data._computedWatchInit;if(d===0){var m={computedUpdaters:[],computedRelatedPathValues:{},watchCurVal:{},_triggerFromComputedAttached:{}};this._computedWatchInfo||(this._computedWatchInfo={}),this._computedWatchInfo[c]=m,i&&Object.keys(i).forEach(function(n){var o=O.parseMultiDataPaths(n).map(function(h){var v=h.path,y=h.options,P=O.getDataOnPath(u.data,v);return y.deepCmp?Q(P):P});m.watchCurVal[n]=o})}else if(d===1){var p=this._computedWatchInfo[c];r&&Object.keys(r).forEach(function(n){var o,h=r[n],v=[],y=h(T.create(u.data,v)),P=v.map(function(l){var b=l.path;return{path:b,value:O.getDataOnPath(u.data,b)}});u.setData(((o={})[n]=T.unwrap(y),o)),p._triggerFromComputedAttached[n]=!0,p.computedRelatedPathValues[n]=P;var f=function(){for(var l,b=p.computedRelatedPathValues[n],g=!1,w=0;w<b.length;w++){var A=b[w],D=A.path,k=A.value,a=O.getDataOnPath(u.data,D);if(!X(k,a)){g=!0;break}}if(!g)return!1;var _=[],x=h(T.create(u.data,_));u.setData(((l={})[n]=T.unwrap(x),l));var j=_.map(function(te){var V=te.path;return{path:V,value:O.getDataOnPath(u.data,V)}});return p.computedRelatedPathValues[n]=j,!0};p.computedUpdaters.push(f)})}}}),r&&s.push({fields:"**",observer:function(){var u,d=this;if(this._computedWatchInfo){var m=this._computedWatchInfo[c];if(m)do u=m.computedUpdaters.some(function(p){return p.call(d)});while(u)}}}),i&&Object.keys(i).forEach(function(u){var d=O.parseMultiDataPaths(u);s.push({fields:u,observer:function(){var m=this;if(this._computedWatchInfo){var p=this._computedWatchInfo[c];if(p){if(Object.keys(p._triggerFromComputedAttached).length){var n={};for(var o in d.forEach(function(l){return n[l.path[0]]=!0}),p._triggerFromComputedAttached)if(p._triggerFromComputedAttached.hasOwnProperty(o)&&n[o]&&p._triggerFromComputedAttached[o]){p._triggerFromComputedAttached[o]=!1;return}}var h=p.watchCurVal[u],v=d.map(function(l){var b=l.path,g=l.options,w=O.getDataOnPath(m.data,b);return{val:w,options:g}}),y=v.map(function(l){var b=l.val;return l.options.deepCmp?Q(b):b});p.watchCurVal[u]=y;for(var P=!1,f=0;f<y.length;f++)if(d[f].options.deepCmp?!(0,fe.default)(h[f],y[f]):!X(h[f],y[f])){P=!0;break}P&&i[u].apply(this,v.map(function(l){return l.val}))}}}})}),typeof e.observers!="object"&&(e.observers={}),Array.isArray(e.observers)?(t=e.observers).push.apply(t,s):s.forEach(function(u){var d=e.observers[u.fields];d?e.observers[u.fields]=function(){u.observer.call(this),d.call(this)}:e.observers[u.fields]=u.observer})}})});"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(exports,{DataTracerMode:function(){return F},behavior:function(){return R.behavior},ComponentWithComputed:function(){return de},BehaviorWithComputed:function(){return he},getCurrentDataTracerMode:function(){return ve},setCurrentDataTracerMode:function(){return ye}});var F,R=Y();function de(e){return Array.isArray(e.behaviors)||(e.behaviors=[]),e.behaviors.unshift(R.behavior),Array.isArray(e.behaviorsBeforeComputed)&&(e.behaviors=e.behaviorsBeforeComputed.concat(e.behaviors)),Component(e)}function he(e){return Array.isArray(e.behaviors)||(e.behaviors=[]),e.behaviors.unshift(R.behavior),Array.isArray(e.behaviorsBeforeComputed)&&(e.behaviors=e.behaviorsBeforeComputed.concat(e.behaviors)),Behavior(e)}(function(e){e[e.Auto=0]="Auto",e[e.Proxy=1]="Proxy",e[e.DefineProperty=2]="DefineProperty"})(F||(F={}));var ee=0,ve=function(){return ee},ye=function(e){ee=e};
